<!doctype html>
<html lang="en">


<head>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-widthinitial-scale=1">
    <title>undefined</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
        integrity="sha256-YvdLHPgkqJ8DVUxjjnGVlMMJtNimJ6dYkowFFvp4kKs=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/roboto@4.5.1/latin-300.css"
        integrity="sha256-69VEtqsA54dXolmlOOpB6AUTkUBjI8SjBKCQ7ycib6I=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/roboto@4.5.1/latin-700.css"
        integrity="sha256-tB5d+zyWiHQFQmJbLkUB/R3yq3K5zmN+38cBOZBwjkg=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/roboto-mono@4.5.0/latin-300.css"
        integrity="sha256-/bTf0ZdBXp9eQn0Xbgim3IoygJpVg108KstIe5AKO7E=" crossorigin="anonymous">
</head>

<body>

    <section class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-10-sm col-8">

                <h1>haeley-<strong>colors</strong></h1>
                <p class="lead">Test Page</p>
                <p>// about:
                    version <code id="version">version</code>,
                    branch <code id="branch">branch</code>,
                    commit <code id="commit">commit</code>.
                </p>

            </div>
        </div>

        <div class="row mt-4 justify-content-center">
            <div class="col-10-sm col-8 text-start">
                <p class="pt-1">Test: fetch scales from json files:</p>
            </div>
        </div>

        <div class="row justify-content-center" id="scale-0">
            <div class="col-3-sm col-3 text-end">
                <h4 class="pt-1">YlGnBu <strong>5</strong></h4>
            </div>
            <div class="col-7-sm col-5">
                <div class="btn-group me-2" role="group" aria-label="First group">
                    <button id="color-0" type="button" class="btn btn-outline-dark">0</button>
                    <button id="color-1" type="button" class="btn btn-outline-dark">1</button>
                    <button id="color-2" type="button" class="btn btn-outline-dark">2</button>
                    <button id="color-3" type="button" class="btn btn-outline-dark">3</button>
                    <button id="color-4" type="button" class="btn btn-outline-dark">4</button>
                </div>
            </div>
        </div>

        <div class="row justify-content-center" id="scale-1">
            <div class="col-3-sm col-3 text-end">
                <h4 class="pt-1">Magma <strong>8</strong></h4>
            </div>
            <div class="col-7-sm col-5">
                <div class="btn-group me-2" role="group" aria-label="First group">
                    <button id="color-0" type="button" class="btn btn-outline-dark">0</button>
                    <button id="color-1" type="button" class="btn btn-outline-dark">1</button>
                    <button id="color-2" type="button" class="btn btn-outline-dark">2</button>
                    <button id="color-3" type="button" class="btn btn-outline-dark">3</button>
                    <button id="color-4" type="button" class="btn btn-outline-dark">4</button>
                    <button id="color-5" type="button" class="btn btn-outline-dark">5</button>
                    <button id="color-6" type="button" class="btn btn-outline-dark">6</button>
                    <button id="color-7" type="button" class="btn btn-outline-dark">7</button>
                </div>
            </div>
        </div>

        <div class="row mt-4 justify-content-center">
            <div class="col-10-sm col-8 text-start">
                <p class="pt-1">Test: create lerped image from a scale:</p>
            </div>
        </div>

        <div class="row justify-content-center" id="scale-2">
            <div class="col-3-sm col-3 text-end">
                <h4 class="pt-1">Magma RGBA <strong>Uint8</strong></h4>
            </div>
            <div class="col-7-sm col-5">
                <pre class="text-wrap" id="bitsUI8"></pre>
            </div>
        </div>

        <div class="row justify-content-center" id="scale-2">
            <div class="col-3-sm col-3 text-end">
                <h4 class="pt-1">Magma RGBA <strong>Float32</strong></h4>
            </div>
            <div class="col-7-sm col-5">
                <pre class="text-wrap" id="bitsF32"></pre>
            </div>
        </div>

    </section>

</body>

<script type="module">
    import * as auxiliaries from 'haeley-auxiliaries';
    import * as math from 'haeley-math';
    import * as colors from './index.ts';
    window['haeley'] = { auxiliaries, math, colors };
</script>

<script>
    window.onload = () => {

        document.title = __LIB_NAME__;
        document.querySelector('#version').innerHTML = haeley.colors.version();
        document.querySelector('#branch').innerHTML = haeley.colors.branch();
        document.querySelector('#commit').innerHTML = haeley.colors.commit();

        console.log("'haeley-colors' imported:", haeley);

        haeley.colors.ColorScale.fromPreset('./colorbrewer.json', 'YlGnBu', 5).then(
            (value) => {
                window['YlGnBu'] = value; console.log(`YlGnBu scale from colorbrewer stored to 'YlGnBu'`);

                for (let i = 0; i < YlGnBu.colors.length; ++i)
                    document.querySelector(`#scale-0 #color-${i}`).style.backgroundColor = YlGnBu.colors[i].hexRGB;
            });

        haeley.colors.ColorScale.fromPreset('./smithwalt.json', 'plasma', 8).then(
            (value) => {
                window['plasma'] = value; console.log(`plasma scale from smithwalt stored to 'plasma'`);

                for (let i = 0; i < plasma.colors.length; ++i)
                    document.querySelector(`#scale-1 #color-${i}`).style.backgroundColor = plasma.colors[i].hexRGB;


                document.querySelector('#scale-2 #bitsUI8').innerHTML = plasma.bitsUI8().reduce(
                    (accumulator, value, index) => accumulator += `${value}${(index % 4) == 3 ? '<br>' : ' '}`, '');
                document.querySelector('#scale-2 #bitsF32').innerHTML = plasma.bitsF32().reduce(
                    (accumulator, value, index) => accumulator += `${value}${(index % 4) == 3 ? '<br>' : ' '}`, '');
            });

    };
</script>

<style>
    body {
        font-weight: 300;
        font-family: "Roboto";
    }

    strong {
        font-weight: 700;
    }

    code {
        font-weight: 300 !important;
        font-size: 1em;
        font-family: "Roboto Mono" !important;
    }
</style>

</html>
